{
  "name": "GrokVideoGen",
  "displayName": "Grok 视频生成器",
  "version": "1.3.0",
  "description": "使用 Grok API 进行视频生成（支持文生视频、图生视频、视频续写、视频拼接）。",
  "pluginType": "synchronous",
  "entryPoint": {
    "command": "python video_handler.py"
  },
  "communication": {
    "protocol": "stdio",
    "timeout": 300000
  },
  "configSchema": {
    "GROK_API_KEY": "string",
    "GROK_API_BASE": "string",
    "GrokVideoModelName": "string",
    "DebugMode": "boolean",
    "PROJECT_BASE_PATH": "string",
    "SERVER_PORT": "string",
    "IMAGESERVER_IMAGE_KEY": "string",
    "VarHttpUrl": "string"
  },
  "capabilities": {
    "invocationCommands": [
      {
        "command": "submit",
        "description": "提交一个视频生成任务。\n\n**重要提示：视频生成需要较长时间，请在调用成功后告知用户任务已提交，并提醒他们需要耐心等待。**\n\n**参数说明:**\n1. tool_name:「始」GrokVideoGen「末」\n2. image_url:「始」[图片链接]「末」 (可选，用于图生视频)\n3. video_url:「始」[视频链接.mp4]「末」 (可选，用于视频续写：自动提取最后一帧作为起点，基于 prompt 续写 6 秒视频)\n4. prompt:「始」[提示词]「末」 (必需)\n\n注意: image_url 和 video_url 二选一。当使用 video_url 时为视频续写模式，会自动从视频中提取最后一帧。\n\n**成功时返回 JSON:** { \"status\": \"success\", \"result\": \"...\" }\n**失败时返回 JSON:** { \"status\": \"error\", \"error\": \"错误信息...\" }",
        "example": "提交文生视频:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」GrokVideoGen「末」,\nprompt:「始」一个赛博朋克风格的城市街道，下着雨，霓虹灯闪烁「末」\n<<<[END_TOOL_REQUEST]>>>\n\n视频续写（基于已有视频继续创作）:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」GrokVideoGen「末」,\nvideo_url:「始」[之前生成的视频URL.mp4]「末」,\nprompt:「始」继续这个场景，镜头缓缓推进，一辆飞行汽车从远处驶来「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "concat",
        "description": "将多个视频按顺序拼接为一个视频。不需要 prompt，仅需提供视频 URL 列表。\n\n**参数说明:**\n1. tool_name:「始」GrokVideoGen「末」\n2. command:「始」concat「末」\n3. video_url1:「始」[第一个视频URL]「末」\n4. video_url2:「始」[第二个视频URL]「末」\n5. video_url3:「始」[第三个视频URL]「末」 (可选，可继续添加更多)\n\n至少需要 2 个视频 URL。\n\n**成功时返回 JSON:** { \"status\": \"success\", \"result\": { \"video_url\": \"拼接后的视频URL\" } }\n**失败时返回 JSON:** { \"status\": \"error\", \"error\": \"错误信息...\" }",
        "example": "视频拼接:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」GrokVideoGen「末」,\ncommand:「始」concat「末」,\nvideo_url1:「始」[第一个视频URL.mp4]「末」,\nvideo_url2:「始」[第二个视频URL.mp4]「末」\n<<<[END_TOOL_REQUEST]>>>"
      }
    ]
  },
  "webSocketPush": {
    "enabled": true,
    "messageType": "video_generation_status",
    "usePluginResultAsMessage": true,
    "targetClientType": "VCPLog"
  }
}